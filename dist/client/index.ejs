<!DOCTYPE html>
<html lang="en">
<head>
    <title>Blackjack</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<body>
    <div class="container">
      <div class="row" id="pwd-container">
          <div class="col-xs-12 col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4">
            
            <h2 align="center">BLACKJACK</h2>
            <div id="server-message">(server message)</div>
            <div class="form-group">
                <label for="username">Username</label>
                <input type="text" class="form-control input-lg" id="username" name="username" placeholder="username">
            </div>
            <button id="startGame_button" class="btn btn-lg btn-primary btn-block">Start Game!</button>
            <button id="hit_button" class="btn btn-lg btn-primary btn-block">Hit!</button>
            <button id="stand_button" class="btn btn-lg btn-primary btn-block">Stand!</button>
            <button id="leaderboard_button" class="btn btn-lg btn-primary btn-block">Leaderboard</button>
            
          </div>
      </div>
    </div>
</body>
</html>

<script>
    ws = new WebSocket(`ws://localhost:8080`);

    ws.onmessage = function (event) {
        $('#server-message').text(event.data);
    }

    $('#startGame_button').on('click',function (e) {
        let json = {
            "event" : "cs_startGame",
            "data" : {
                "username" : $('#username').val()
            }
        }
        ws.send(JSON.stringify(json));
    });

    $('#hit_button').on('click',function (e) {
        let json = {
            "event" : "cs_hit",
            "data" : {
                "username" : $('#username').val()
            }
        }
        ws.send(JSON.stringify(json));
    });

    $('#stand_button').on('click',function (e) {
        let json = {
            "event" : "cs_stand",
            "data" : {
                "username" : $('#username').val()
            }
        }
        ws.send(JSON.stringify(json));
    });

    $('#leaderboard_button').on('click',function (e) {
        let json = {
            "event" : "cs_leaderboard",
            "data" : {
            }
        }
        ws.send(JSON.stringify(json));
    });
</script>